(kicad_sch (version 20211123) (generator eeschema)

  (uuid 32340f04-9850-4e70-81c3-3f2a60baa4da)

  (paper "B")

  (title_block
    (title "ConnectBox CM4 for China Case ")
    (date "2022-07-24")
    (rev "1.8.4")
    (comment 1 "JRA")
  )

  (lib_symbols
  )


  (text "Orders" (at 172.72 26.67 0)
    (effects (font (size 5.08 5.08)) (justify left bottom))
    (uuid 2fc88a4c-80cb-4eae-b572-6ec6a997f1f3)
  )
  (text "BOM Generation:\nUse the following for the path to python3:\n/Applications/KiCad/KiCad.app/Contents/Frameworks/Python.framework/Versions/3.8/bin/python3\n\nOpen the BOM dialog, choose the bom, in the bottom window just \npaste in the above path in place of the listed path to python3\n\nClick OK \n\n\nGenerating Position File (to sort top from bottom components)\nOpen layout, then\nFile -> Fabrication Outputs -> Component Placement (.pos)\n (check the \"separate top / bottom files\" option\n"
    (at 266.065 169.545 0)
    (effects (font (size 1.778 1.778)) (justify left bottom))
    (uuid 487b3731-2814-472d-8c7b-79cb631f857a)
  )
  (text "Version 1.8.1\nFirst layout for the China CM4 case by RelayTrust. This design\nis based on the 2 board solution of 1.7.4 but wrapped into a \nsingle, 6 layer, dual sided board.\n\nVersion 1.8.2\nUpdate of 1.8.1 with corrections to the following:\n- Push buttons were on the wrong side of the board\n- Locations of battery minus teerminals were incorrect\n- Traces of battery minus connections were insufficient to\n  carry the required current\n- USB-C cannot be easily used for communication so is now \n  strictly a power port (simplifying usb circuitry)\n- Added back the ethernet jack formerly removed because of\n  space considerations\n- Move location of J4 back slightly to align front of \n  connector with edge of board\n- Change board text of LED5 & LED8 to indicate correct colors\n\n \nVersion 1.8.3\nUpdate of 1.8.2 with modified ATTiny88 functionality\n- Fix error of ATTiny88 GND (s.b. to PWR_GND)\n- ATTiny88 always powered (via direct connect to battery +)\n- PB1 sensed by ATTiny88 for turn on/off (rather than AXP209)\n  to give better control\n- Change value of R7 to 10K to ensure battery 1 selection\n- Move U6 away from OLED for better clearance\n\nVersion 1.8.4\n- Fix alignment hole sizes on USB-A (J3, J4)\n   and HDMI (J2) connectors\n- Swap CM4 USB2_P and USB2_N at U13 pins 30 & 31\n   to fix board layout error\n- Change utility LED (LED7) from blue to amber\n   (Vf on blue is 3.0V typical which fools PA6\n   sense into thinking there is no HAT)\n- Change LED10 & LED11 drive to pull down \n   (ETH_LEDG, ETH_LEDY)\n- Corrected J6 symbol (pins 1 & 2 were swapped) and\n   updated layout (note: software command required to\n   allow CM4 to recognize 10/100baseT full duplex\n   (ethtool -s eth0 advertise 0x008)\n- Change power to ATTiny (U1) from Batt+ to IPS_OUT\n- Change label on Q2 Gate to /BT1_ENA (was /BT1_ENA_B)\n- Change entire 5V converter (was MAX1709 w/ 4x150uF caps; \n   now is TPS61022 w/ 1x10uF and 2x22uf 0806 caps); \n   remove FET switch (enable is in TPS61022)\n"
    (at 25.4 174.625 0)
    (effects (font (size 1.778 1.778)) (justify left bottom))
    (uuid abd5b1f8-417b-4e4b-bb91-50def48c6e7b)
  )
  (text "Version 1.8.3r (Rework of 1.8.3)\n- Swap CM4 USB2_P and USB2_N at U13 pins 30 & 31\n   to fix board layout error\n- Change LED7 from blue to amber\n   (Vf on blue is 3.0V typical which fools PA6\n   sense into thinking there is no HAT)\n- Change LED10 & LED11 drive to pull down \n   (ETH_LEDG, ETH_LEDY)\n- Corrected J6 (pins 1 & 2 were swapped) and\n   updated layout (note: software command required to\n   allow CM4 to recognize 10/100baseT full duplex\n   (ethtool -s eth0 advertise 0x008)\n- Change power to ATTiny (U1) from Batt+ to IPS_OUT\n- Change label on Q2 Gate to /BT1_ENA (was /BT1_ENA_B)\n"
    (at 128.27 124.46 0)
    (effects (font (size 1.27 1.27)) (justify left bottom))
    (uuid d3555311-f089-4336-bfb7-2413a4df2f08)
  )
  (text "Revision History" (at 21.59 25.4 0)
    (effects (font (size 5.08 5.08)) (justify left bottom))
    (uuid d6084006-8990-4dc9-82cd-cf5351710d50)
  )

  (sheet_instances
    (path "/" (page "1"))
  )
)
